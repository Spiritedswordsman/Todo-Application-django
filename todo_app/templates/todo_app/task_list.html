{% extends "todo_app/base.html" %}

{% block content %}
  <h1>Task List</h1>
  
  <a href="{% url 'create-task' %}" class="btn btn-primary">Create Task</a>

  <form action="{% url 'filter-tasks' %}" method="get">
    <label for="priority">Filter by Priority:</label>
    <select name="priority" id="priority">
      <option value="">All</option>
      <option value="low">Low</option>
      <option value="medium">Medium</option>
      <option value="high">High</option>
    </select>
    <button type="submit" class="btn btn-info">Apply Filter</button>
  </form>

  <ul class="list-group">
    {% for task in tasks %}
      <li class="list-group-item {% if task.completed %}completed{% endif %}">
        {{ task.title }}
        <div class="float-right">
          <a href="{% url 'edit-task' task.id %}" class="btn btn-sm btn-warning">Edit</a>
          <a href="{% url 'delete-task' task.id %}" class="btn btn-sm btn-danger">Delete</a>
        </div>
      </li>
    {% endfor %}
  </ul>
{% endblock %}
